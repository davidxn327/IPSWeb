<!DOCTYPE html>
<!-- saved from url=(0043)http://demo.qunee.com/editor/Editor1.6.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Qunee Editor Demo</title>
    <script async="" type="text/javascript" src="./js/ca-pub-3132876633721837.js"></script>
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="http://demo.qunee.com/editor/lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://demo.qunee.com/editor/style/editor.css">

    <!--<script src="../qunee.js"></script>-->
    <script src="./js/qunee-min.js"></script><style type="text/css" id="qunee-styles"></style>
    <script src="./js/common.js"></script>
    <script src="./js/graphs.js"></script>
    <script src="./js/editor1.6.js"></script>
</head>
<body style="">
<div class="Q-Editor" style="margin-top: 0px;">
<div id="toolbar" class="Q-Toolbar">
</div>
<div class="Q-Main-Panel">
<div class="Q-Graph-Panel" style="padding-right: 0px;">
    <div id="canvas" class="Q-Graph" tabindex="0" style="cursor: default; overflow: hidden; padding: 0px;">
    </div>
</div>
<div id="toolbox" class="Q-Toolbox"></div>
<script src="./js/codemirror.js"></script>
<script src="./js/javascript.js"></script>
<link rel="stylesheet" href="http://demo.qunee.com/editor/lib/codemirror/codemirror.css">
<style>
    .CodeMirror {
        height: 100%;
    }
</style>

<div class="Q-Export-JSON" id="Q-JSON-Panel" style="height: 0px; overflow: hidden;">
    <div style="background: #EEE; position: absolute; top: 50px; bottom: 0px; width: 100%;">
        <textarea id="code_panel" style="height: 100%; display: none;"></textarea><div class="CodeMirror cm-s-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 25px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none; font-size: 4px;"></textarea></div><div class="CodeMirror-hscrollbar" style="left: 21px;"><div style="height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar" style="display: block; bottom: 0px;"><div style="width: 1px; height: 22px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="min-width: 44px; margin-left: 21px; min-height: 22px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1; display: none;"></div><div class="CodeMirror-code"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="position: absolute; left: -21px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 12px;">1</div></div><pre>&nbsp;</pre></div></div><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 14px;">&nbsp;</div><div class="CodeMirror-cursor CodeMirror-secondarycursor" style="display: none;">&nbsp;</div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 22px;"></div><div class="CodeMirror-gutters" style="height: 22px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 20px;"></div></div></div></div>
        <script>
            var code_panel = document.getElementById("code_panel");
            var editor = CodeMirror.fromTextArea(code_panel, {
                lineNumbers: true,
                matchBrackets: true,
                mode: "text/javascript"
            });
            code_panel.getValue = function () {
                return editor.getValue();
            }
            code_panel.setValue = function (v) {
                editor.setValue(v);
            }
            code_panel.setValue(code_panel.value);
            code_panel.editor = editor;

            function showJSONPanel(show) {
                var isShowing = $("#Q-JSON-Panel")[0].style.height == "100%";
                if (isShowing === show) {
                    return;
                }
                $("#Q-JSON-Panel").animate({height: isShowing ? "0" : "100%"});
                if (!isShowing) {
                    doExportGraph();
                }
            }

            function doExportGraph() {
                code_panel.setValue(graph.exportJSON(true))
            }
            function doParseGraph() {
                try {
                    graph.clear();
                    graph.parseJSON(code_panel.getValue());
                    graph.zoomToOverview();
                    showJSONPanel(false);
                } catch (error) {
                    Q.alert("导入异常", error);
                }
            }
        </script>
    </div>
    <div style="padding: 10px; height: 50px; float: right; position: relative;">
        <!--<div class="btn btn-primary btn-sm" title="导出" onclick="doExportGraph()">导出</div>-->
        <div class="btn btn-primary btn-sm" title="提交" onclick="doParseGraph()">提交</div>
        <div class="btn btn-primary btn-sm" title="关闭" onclick="showJSONPanel(false)">关闭</div>
    </div>
</div>
</div>
</div>

<div id="export_panel" class="modal fade">
    <style>
        /*#export_panel .modal-dialog{*/
        /*width: 400px;*/
        /*}*/
        #export_panel span {
            padding: 5px;
        }

        #export_panel input {
            display: inline-block;
            max-width: 100px;
        }
    </style>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <h3 style="text-align: center;">图片导出预览</h3>

                <div>
                    <label>画布大小</label>
                    <span id="canvas_size"></span>
                </div>
                <div style="text-align: center;" title="双击选择全画布范围">
                    <div id="export_canvas" style="position: relative; display: inline-block;">
                    </div>
                </div>
                <div>
                    <label>导出范围</label>
                    <span id="export_bounds"></span>
                </div>
                <div>
                    <label>缩放比例: <input id="export_scale" type="range" value="1" step="0.2" min="0.2" max="3"><span id="export_scale_label">1</span></label>
                </div>
                <div>
                    <label>输出大小: </label><span id="export_size"></span>
                </div>
                <div style="text-align: right">
                    <button type="submit" class="btn btn-primary" id="export_submit">导出</button>
                    <button type="submit" class="btn btn-primary" id="print_submit">打印</button>
                </div>
            </div>
        </div>
    </div>
</div>

</body></html>